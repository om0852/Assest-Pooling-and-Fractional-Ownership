"use strict";(()=>{var e={};e.id=3986,e.ids=[3986],e.modules={11185:e=>{e.exports=require("mongoose")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6113:e=>{e.exports=require("crypto")},47053:(e,t,s)=>{s.r(t),s.d(t,{headerHooks:()=>m,originalPathname:()=>f,requestAsyncStorage:()=>p,routeModule:()=>d,serverHooks:()=>g,staticGenerationAsyncStorage:()=>c,staticGenerationBailout:()=>A});var r={};s.r(r),s.d(r,{POST:()=>POST}),s(95655);var a=s(83323),o=s(54647),i=s(41312);s(80239);var n=s(53904),l=s(66886);async function POST(e,t){try{let t=await e.json();console.log(t);let{AType:s,Assest_Title:r,Assest_Price:a,Assest_Quantity:o,Assest_Description:u,PortfolioName:d}=t.data;if(null==s||null==r||null==a||null==o||null==u)throw new error("Please Fill All Feilds");{await (0,n.Z)();let e=t.pid,d={AType:s,Assest_Title:r,Assest_Price:a,Assest_Quantity:o,Assest_Description:u,Date:new Date},p=0,c=await i.Z.findOne({_id:e});return c.Price&&(p=parseInt(c.Price)),c.Assests.push(d),p+=parseInt(a)*o,console.log(p),await i.Z.updateOne({_id:e},{Assests:c.Assests,Price:p}),console.log("assest added successfully"),l.Z.json({status:200},{error:"success"})}}catch(e){return console.log(e),l.Z.json({status:300},{error:"error in addproduct"})}}s(16186);let u=a.AppRouteRouteModule,d=new u({definition:{kind:o.x.APP_ROUTE,page:"/api/portfolio/Assest/createAssest/route",pathname:"/api/portfolio/Assest/createAssest",filename:"route",bundlePath:"app/api/portfolio/Assest/createAssest/route"},resolvedPagePath:"D:\\Assest-Pooling-and-Fractional-Ownershi\\src\\app\\api\\portfolio\\Assest\\createAssest\\route.js",nextConfigOutput:"",userland:r}),{requestAsyncStorage:p,staticGenerationAsyncStorage:c,serverHooks:g,headerHooks:m,staticGenerationBailout:A}=d,f="/api/portfolio/Assest/createAssest/route"},80239:(e,t,s)=>{s.d(t,{Z:()=>o});let r=s(11185),a=new r.Schema({name:{type:String,reqired:!0},email:{type:String,reqired:!0,unique:!0},password:{type:String,reqired:!0},address:{type:String,default:""},organization:{type:String,default:""},metamaskaddress:{type:String,default:""},phone:{type:String,default:""},role:{type:String,default:"admin"}},{timestamps:!0});r.models={};let o=r.model("User",a)}};var t=require("../../../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[9727,6886,6186,3904,782],()=>__webpack_exec__(47053));module.exports=s})();