"use strict";(()=>{var e={};e.id=1515,e.ids=[1515],e.modules={11185:e=>{e.exports=require("mongoose")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6113:e=>{e.exports=require("crypto")},56425:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>m,originalPathname:()=>y,requestAsyncStorage:()=>d,routeModule:()=>c,serverHooks:()=>g,staticGenerationAsyncStorage:()=>f,staticGenerationBailout:()=>P});var o={};r.r(o),r.d(o,{POST:()=>POST}),r(95655);var a=r(83323),i=r(54647),s=r(80239),l=r(41312),n=r(53904),p=r(66886);async function POST(e,t){try{let t=await e.json(),{pname:r,email:o,Assests:a}=t;if(r&&o&&a.length>0){await (0,n.Z)();let e=await s.Z.findOne({email:o}),t=0;for(let e=0;e<a.length;e++)console.log(a[e].Assest_Price),t+=parseFloat(a[e].Assest_Price)*parseFloat(a[e].Assest_Quantity);let i={Price:t,date:new Date().toUTCString()};return await l.Z.create({userId:e._id,Assests:a,PortfolioName:r,Price:t,PortfolioPrice:[i],RemainingPrice:t}),console.log("portfolio create successfully"),p.Z.json({status:200},{error:"portfolio create successfully"})}throw Error("Fill All Fields")}catch(e){return console.log(e),p.Z.json({status:300,message:e.message})}}r(16186);let u=a.AppRouteRouteModule,c=new u({definition:{kind:i.x.APP_ROUTE,page:"/api/portfolio/createportfolio/route",pathname:"/api/portfolio/createportfolio",filename:"route",bundlePath:"app/api/portfolio/createportfolio/route"},resolvedPagePath:"D:\\Assest-Pooling-and-Fractional-Ownershi\\src\\app\\api\\portfolio\\createportfolio\\route.js",nextConfigOutput:"",userland:o}),{requestAsyncStorage:d,staticGenerationAsyncStorage:f,serverHooks:g,headerHooks:m,staticGenerationBailout:P}=c,y="/api/portfolio/createportfolio/route"},80239:(e,t,r)=>{r.d(t,{Z:()=>i});let o=r(11185),a=new o.Schema({name:{type:String,reqired:!0},email:{type:String,reqired:!0,unique:!0},password:{type:String,reqired:!0},address:{type:String,default:""},organization:{type:String,default:""},metamaskaddress:{type:String,default:""},phone:{type:String,default:""},role:{type:String,default:"admin"}},{timestamps:!0});o.models={};let i=o.model("User",a)}};var t=require("../../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[9727,6886,6186,3904,782],()=>__webpack_exec__(56425));module.exports=r})();