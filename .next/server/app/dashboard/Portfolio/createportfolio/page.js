(()=>{var e={};e.id=7740,e.ids=[7740],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},2156:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>p,routeModule:()=>x,tree:()=>d});var r=t(73137),o=t(54647),a=t(4183),l=t.n(a),i=t(71775),n={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);t.d(s,n);let c=r.AppPageRouteModule,d=["",{children:["dashboard",{children:["Portfolio",{children:["createportfolio",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,56384)),"D:\\Assest-Pooling-and-Fractional-Ownershi\\src\\app\\dashboard\\Portfolio\\createportfolio\\page.js"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,27415)),"D:\\Assest-Pooling-and-Fractional-Ownershi\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,51918,23)),"next/dist/client/components/not-found-error"]}],p=["D:\\Assest-Pooling-and-Fractional-Ownershi\\src\\app\\dashboard\\Portfolio\\createportfolio\\page.js"],m="/dashboard/Portfolio/createportfolio/page",u={require:t,loadChunk:()=>Promise.resolve()},x=new c({definition:{kind:o.x.APP_PAGE,page:"/dashboard/Portfolio/createportfolio/page",pathname:"/dashboard/Portfolio/createportfolio",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},94449:(e,s,t)=>{Promise.resolve().then(t.bind(t,54567))},54567:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var r=t(60080),o=t(9885),a=t(57114),l=t(11440),i=t.n(l),n=t(34751);t(45996);var c=t(38228);let __WEBPACK_DEFAULT_EXPORT__=()=>{let e=(0,a.useRouter)(),[s,t]=(0,o.useState)({email:"",pname:""});(0,o.useEffect)(()=>{if(localStorage.getItem("token")){let s=localStorage.getItem("token").toString(),t=(0,c.jwtDecode)(s);console.log(t),new Date/1e3>t.exp?(alert("Your session has been expired."),localStorage.removeItem("token"),e.push("/login")):(t.role,"user"==t.role&&e.push("/"))}},[]);let[l,d]=(0,o.useState)({AType:"",Assest_Title:"",Assest_Price:"",Assest_Quantity:"",Assest_Description:""}),[p,m]=(0,o.useState)([]),u=0,x=0,h=0,addtolocal=e=>{e.preventDefault(),""==l.AType||""==l.Assest_Title||""==l.Assest_Price||""==l.Assest_Quantity||""==l.Assest_Description?n.toast.error("Please Fill All Fields",{position:"top-center",autoClose:1e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):(m(e=>[...e,l]),n.toast.success("Asset Added",{position:"top-center",autoClose:1e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}),d({AType:"",Assest_Title:"",Assest_Price:"",Assest_Quantity:"",Assest_Description:""}))},createportfolio=async()=>{if(""==s.pname)n.toast.error("Please Enter Portfolio Name",{position:"top-center",autoClose:1e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"});else if(!p.length>0)n.toast.error("Add atleast one Asset to Portfolio",{position:"top-center",autoClose:1e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"});else if(confirm("Are You Sure?.Do You Want To Create Portfolio")){let e=await fetch("http://localhost:3000/api/portfolio/createportfolio",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:s.email,pname:s.pname,Assests:p})}),t=await e.json();console.log(t),200==t.status?n.toast.success("Portfolio Created Successfully",{position:"top-center",autoClose:1e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):n.toast.error(t.message,{position:"top-center",autoClose:1e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}),m([])}},onchange=e=>{e.preventDefault();let s=e.target.name,t=e.target.value;d({...l,[s]:t}),console.log(l)},onpchange=e=>{e.preventDefault(),t({email:localStorage.getItem("APFOS_useremail"),[e.target.name]:e.target.value}),console.log(s)},removeAssest=e=>{1==p.length&&0==e?m([]):(p.splice(e,1),m(p))};return(0,r.jsxs)("div",{className:" w-[100%] h-full rounded p-2 pb-4 md:px-16 items-center justify-center px-6 py-8 mx-auto ",children:[r.jsx("h1",{className:"mx-auto text-center py-3 text-xl font-bold text-white md:text-2xl ",children:"Create Portfolio"}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row justify-center items-center md:items-start space-x-2 w-full",children:[r.jsx("div",{className:" w-full h-full bg-white rounded-lg shadow md:mt-0 sm:max-w-md xl:p-0 ",children:r.jsx("div",{className:" p-4 space-y-4 md:space-y-6 md:py-8 ",children:(0,r.jsxs)("div",{className:"w-full mx-auto flex flex-col items-center justify-center px-4 py-2  lg:py-0",children:[(0,r.jsxs)("div",{className:"w-full",children:[r.jsx("label",{htmlFor:"name",className:"block mb-2 text-sm font-medium text-gray-900 ",children:"Portfolio Name"}),r.jsx("input",{onChange:e=>onpchange(e),type:"text",name:"pname",id:"pname",value:s.pname,className:"bg-white border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5",placeholder:"Enter Portfolio Name",required:""})]}),r.jsx("div",{className:"w-full bg-white rounded shadow md:mt-0 ",children:(0,r.jsxs)("div",{className:"p-6 space-y-4 md:space-y-6 sm:p-3",children:[r.jsx("h1",{className:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl ",children:"Add Assest"}),(0,r.jsxs)("form",{className:" flex flex-wrap space-y-4 md:space-y-6",method:"POST",children:[(0,r.jsxs)("div",{className:"w-full",children:[r.jsx("label",{htmlFor:"Assest_Title",className:"block mb-1 text-sm font-medium text-gray-900 ",children:"Assest Name"}),r.jsx("input",{onChange:e=>onchange(e),type:"text",name:"Assest_Title",id:"Assest_Title",value:l.Assest_Title,className:"bg-white border border-gray-300 text-gray-900 sm:text-sm rounded focus:ring-primary-600 focus:border-primary-600 block w-full p-2",placeholder:"Enter Assest Name",required:""})]}),(0,r.jsxs)("div",{className:"w-full",children:[r.jsx("label",{htmlFor:"AType",className:"block mb-1 text-sm font-medium text-gray-900 ",children:"Assest Type"}),(0,r.jsxs)("select",{onChange:e=>onchange(e),type:"text",name:"AType",id:"AType",value:l.AType,className:"bg-white border border-gray-300 text-gray-900 sm:text-sm rounded focus:ring-primary-600 focus:border-primary-600 block w-full p-2",children:[r.jsx("option",{value:"",selected:!0,children:"Select"}),r.jsx("option",{value:"Stock",children:"Stock"}),r.jsx("option",{value:"Cryptocurrency",children:"Cryptocurrency"}),r.jsx("option",{value:"Painting Assest",children:"Painting Assest"})]})]}),(0,r.jsxs)("div",{className:"w-full",children:[r.jsx("label",{htmlFor:"Assest_Quantity",className:"block mb-1 text-sm font-medium text-gray-900 ",children:"Assest Quantity"}),r.jsx("input",{onChange:e=>onchange(e),type:"number",name:"Assest_Quantity",id:"Assest_Quatity",value:l.Assest_Quantity,className:"bg-white border border-gray-300 text-gray-900 sm:text-sm rounded focus:ring-primary-600 focus:border-primary-600 block w-full p-2",placeholder:"Enter Assest Quantity",required:""})]}),(0,r.jsxs)("div",{className:"w-full",children:[r.jsx("label",{htmlFor:"Assest_Description",className:"block mb-1 text-sm font-medium text-gray-900 ",children:"Assest Description"}),r.jsx("input",{onChange:e=>onchange(e),type:"text",name:"Assest_Description",id:"Assest_Description",value:l.Assest_Description,className:"bg-white border border-gray-300 text-gray-900 sm:text-sm rounded focus:ring-primary-600 focus:border-primary-600 block w-full p-2",placeholder:"Enter Assest Description",required:""})]}),(0,r.jsxs)("div",{className:"w-full",children:[r.jsx("label",{htmlFor:"Assest_Price",className:"block mb-1 text-sm font-medium text-gray-900 ",children:"Assest Price"}),r.jsx("input",{onChange:e=>onchange(e),type:"number",name:"Assest_Price",id:"Assest_Price",value:l.Assest_Price,className:"bg-white border border-gray-300 text-gray-900 sm:text-sm rounded focus:ring-primary-600 focus:border-primary-600 block w-full p-2",placeholder:"Enter Assest Price",required:""})]}),r.jsx("button",{onClick:e=>addtolocal(e),type:"submit",className:"w-full text-white bg-blue-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded text-sm px-5 py-2.5 text-center ",children:"Add"})]})]})}),r.jsx("button",{onClick:createportfolio,type:"submit",disabled:0===p.length,className:"w-full text-white disabled:bg-green-300 bg-green-600 hover:bg-primary-700 focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center ",children:"Create Portfolio"})]})})}),r.jsx("div",{className:"w-fit text-center my-3 rounded mx-auto bg-white text-blue-900 font-semibold text-lg px-3 py-2 md:hidden",children:"AssetList"}),r.jsx("div",{className:"relative rounded-lg overflow-auto w-screen md:w-auto",children:(0,r.jsxs)("table",{className:"w-full  px-4 text-md text-left  text-black ",children:[r.jsx("thead",{className:"text-md  text-white uppercase bg-blue-400 ",children:(0,r.jsxs)("tr",{className:"",children:[r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Asset Name"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Asset Type"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Price"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Quantity"}),r.jsx("th",{scope:"col",className:"px-6 py-3",children:"Remove"})]})}),(0,r.jsxs)("tbody",{children:[p&&p.map((e,s)=>(x+=parseInt(e.Assest_Price),h+=parseInt(e.Assest_Quantity),u=s+1,(0,r.jsxs)("tr",{className:"bg-white border-b ",children:[(0,r.jsxs)("td",{scope:"row",className:"px-6 py-4  text-gray-900 whitespace-nowrap ",children:[r.jsx("p",{className:"text-lg font-semibold",children:e.Assest_Title}),r.jsx("p",{className:"text-gray-500",children:e.Assest_Description})]}),r.jsx("td",{scope:"row",className:"px-6 py-4  text-gray-900 whitespace-nowrap ",children:e.AType}),r.jsx("td",{className:"px-6 py-4",children:e.Assest_Price}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("p",{className:"w-16 border rounded-md py-1 px-2 focus:outline-none",children:e.Assest_Quantity})}),r.jsx("td",{className:"px-6 py-4 ",children:r.jsx(i(),{href:"",onClick:()=>removeAssest(s),className:"text-red-500 font-bold py-1 px-2",children:"Remove"})})]},s))),(0,r.jsxs)("tr",{className:"bg-white border-b ",children:[r.jsx("td",{className:"px-6 py-4",children:(0,r.jsxs)("p",{className:"text-lg font-semibold",children:["Assets:",u]})}),r.jsx("td",{className:"px-6 py-4"}),r.jsx("td",{className:"px-6 py-4",children:(0,r.jsxs)("p",{className:"text-lg font-semibold",children:["Price:",x]})}),r.jsx("td",{className:"px-6 py-4",children:(0,r.jsxs)("p",{className:"font-semibold py-1 px-2 ",children:["Quantity:",h]})}),r.jsx("td",{className:"px-6 py-4"})]})]})]})})]})]})}},56384:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>a,default:()=>n});var r=t(17536);let o=(0,r.createProxy)(String.raw`D:\Assest-Pooling-and-Fractional-Ownershi\src\app\dashboard\Portfolio\createportfolio\page.js`),{__esModule:a,$$typeof:l}=o,i=o.default,n=i},45996:()=>{}};var s=require("../../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[4650,3254,4503],()=>__webpack_exec__(2156));module.exports=t})();