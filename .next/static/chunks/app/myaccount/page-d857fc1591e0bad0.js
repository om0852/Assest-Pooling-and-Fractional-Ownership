(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[992],{4494:function(e,s,a){Promise.resolve().then(a.bind(a,5357))},5357:function(e,s,a){"use strict";a.r(s);var t=a(7437),o=a(2265),n=a(4033),r=a(3771),l=a(171);a(4193),a(3822),s.default=()=>{let e=(0,n.useRouter)(),[s,a]=(0,o.useState)({name:"",email:"",address:"",phone:"",pincode:"",password:"",cpassword:"",exp:""});(0,o.useEffect)(()=>{if(localStorage.getItem("token")){let s=r(localStorage.getItem("token"));a({name:s.name,email:s.email,phone:s.phone,address:s.address,pincode:s.pincode,exp:s.exp}),s.exp<Math.floor(Date.now()/1e3)&&(localStorage.removeItem("token"),console.log("expired"),e.push("/login"))}else e.push("/")},[]);let handleChange=e=>{let t=e.target.name,o=e.target.value;a({...s,[t]:o})},handleSubmit=async t=>{t.preventDefault();let o=r(localStorage.getItem("token"));if(a({name:o.name,email:o.email,phone:o.phone,address:o.address,pincode:o.pincode,exp:o.exp}),o.exp<Math.floor(Date.now()/1e3))localStorage.removeItem("token"),e.push("/login"),console.log("expired");else{let e=await fetch("".concat("http://localhost:3000/","api/updateUser"),{method:"POST",headers:{Accept:"Application/json","Content-Type":"Application/json"},body:JSON.stringify(s)}),a=await e.json();200===a.status?(localStorage.removeItem("token"),localStorage.setItem("token",a.token),l.toast.success("Details saved Successful",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})):201===a.status?l.toast.error("Comfirm password does not match",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):202===a.status?l.toast.error("Please fill all the details",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):l.toast.error("Failed to Save.Try again..",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.ToastContainer,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),(0,t.jsxs)("div",{className:"isolate bg-white px-6 py-24 sm:py-32 lg:px-8 min-h-screen",children:[(0,t.jsx)("div",{className:"absolute inset-x-0 top-[-10rem] -z-10 transform-gpu overflow-hidden blur-3xl sm:top-[-20rem]","aria-hidden":"true",children:(0,t.jsx)("div",{className:"relative left-1/2 -z-10 aspect-[1155/678] w-[36.125rem] max-w-none -translate-x-1/2 rotate-[30deg] bg-gradient-to-tr from-[#ff80b5] to-[#9089fc] opacity-30 sm:left-[calc(50%-40rem)] sm:w-[72.1875rem]"})}),(0,t.jsxs)("div",{className:"mx-auto max-w-2xl text-center",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl",children:"Contact sales"}),(0,t.jsx)("p",{className:"mt-2 text-lg leading-8 text-gray-600",children:"Aute magna irure deserunt veniam aliqua magna enim voluptate."})]}),(0,t.jsxs)("form",{method:"POST",className:"mx-auto mt-16 max-w-xl sm:mt-20",children:[(0,t.jsx)("div",{className:"py-4",children:(0,t.jsx)("h3",{className:"text-3xl font-bold text-gray-900 sm:text-xl",children:"Personal Info:"})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-x-8 gap-y-6 sm:grid-cols-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"first-name",className:"block text-sm font-semibold leading-6 text-gray-900",children:"Name"}),(0,t.jsx)("div",{className:"mt-2.5",children:(0,t.jsx)("input",{onChange:handleChange,value:s.name,type:"text",name:"first-name",id:"first-name",autoComplete:"off",required:"true",className:"block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-pink-600 sm:text-sm sm:leading-6"})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"last-name",className:"block text-sm font-semibold leading-6 text-gray-900",children:"Email (cannot be changed)"}),(0,t.jsx)("div",{className:"mt-2.5",children:(0,t.jsx)("input",{onChange:handleChange,value:s.email,type:"email",name:"email",id:"email",required:"true",disabled:!0,autoComplete:"off",className:"block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-pink-600 sm:text-sm sm:leading-6"})})]}),(0,t.jsxs)("div",{className:"sm:col-span-2",children:[(0,t.jsx)("label",{htmlFor:"company",className:"block text-sm font-semibold leading-6 text-gray-900",children:"Address"}),(0,t.jsx)("div",{className:"mt-2.5",children:(0,t.jsx)("input",{onChange:handleChange,value:s.address,type:"text",name:"address",id:"address",autoComplete:"off",required:"true",className:"block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-pink-600 sm:text-sm sm:leading-6"})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"phone",className:"block text-sm font-semibold leading-6 text-gray-900",children:"Phone No."}),(0,t.jsx)("div",{className:"mt-2.5",children:(0,t.jsx)("input",{onChange:handleChange,value:s.phone,type:"number",name:"phone",id:"phone",autoComplete:"off",required:"true",className:"block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-pink-600 sm:text-sm sm:leading-6"})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"pincode",className:"block text-sm font-semibold leading-6 text-gray-900",children:"Pincode"}),(0,t.jsx)("div",{className:"mt-2.5",children:(0,t.jsx)("input",{onChange:handleChange,value:s.pincode,type:"number",name:"pincode",id:"pincode",autoComplete:"off",required:"true",className:"block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-pink-600 sm:text-sm sm:leading-6"})})]})]}),(0,t.jsx)("div",{className:"py-4",children:(0,t.jsx)("h3",{className:"text-3xl font-bold text-gray-900 sm:text-xl",children:"Change Password"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-semibold leading-6 text-gray-900",children:"Pasword"}),(0,t.jsx)("div",{className:"mt-2.5",children:(0,t.jsx)("input",{onChange:handleChange,value:s.password||"",type:"password",name:"password",id:"password",autoComplete:"off",required:"true",className:"block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-pink-600 sm:text-sm sm:leading-6"})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"cpassword",className:"block text-sm font-semibold leading-6 text-gray-900",children:"Confirm Password"}),(0,t.jsx)("div",{className:"mt-2.5",children:(0,t.jsx)("input",{onChange:handleChange,value:s.cpassword||"",type:"password",name:"cpassword",id:"cpassword",required:"true",autoComplete:"off",className:"block w-full rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-pink-600 sm:text-sm sm:leading-6"})})]}),(0,t.jsx)("div",{className:"mt-10",children:(0,t.jsx)("button",{onClick:handleSubmit,type:"submit",className:"block w-full rounded-md bg-pink-600 px-3.5 py-2.5 text-center text-sm font-semibold text-white shadow-sm hover:bg-pink-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-pink-600",children:"Save"})})]})]})]})}}},function(e){e.O(0,[218,113,277,971,864,744],function(){return e(e.s=4494)}),_N_E=e.O()}]);