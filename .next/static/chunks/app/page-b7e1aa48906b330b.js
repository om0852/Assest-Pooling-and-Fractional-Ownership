(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2128:function(e,t,o){Promise.resolve().then(o.bind(o,3377))},3377:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return Main}});var s=o(7437),n=o(2265),l=o(1396),r=o.n(l);o(1001),o(5278);var components_Slider=()=>{let[e,t]=(0,n.useState)([]);return(0,s.jsx)(s.Fragment,{})},i=o(1490),a=o(3771),c=o(4033),components_Home=()=>{let[e,t]=(0,n.useState)([]),o=(0,c.useRouter)();(0,n.useEffect)(()=>{if(localStorage.getItem("token")){let e=localStorage.getItem("token").toString(),t=(0,a.jwtDecode)(e);console.log(t),new Date/1e3>t.exp?(alert("Your session has been expired."),localStorage.removeItem("token"),o.push("/login")):("user"==t.role&&allportfoliodata(),"admin"==t.role&&o.push("/dashboard"))}},[]);let allportfoliodata=async()=>{let e=await fetch("".concat("http://localhost:3000/","api/portfolio/AllPortfolio"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:""}),o=await e.json();console.log("completed"),t(o.error)};return(0,s.jsxs)("div",{className:"flex flex-col justify-center items-center w-auto p-4 md:p-10 overflow-hidden",children:[(0,s.jsx)("div",{className:"mx-auto w-full md:w-[60vw] h-auto",children:(0,s.jsx)(components_Slider,{})}),(0,s.jsxs)("div",{className:"flex flex-wrap w-full justify-center items-center",children:[(0,s.jsx)("div",{className:"text-center w-full my-2",children:(0,s.jsx)("span",{className:"text-white font-bold text-xl",children:"Top"})}),e&&e.map((e,t)=>{if(console.log(e),t<6)return(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:"bg-white shadow-md rounded-lg max-w-sm m-2",children:[(0,s.jsx)(r(),{href:"/Portfolio/portfoliodetails?pid=".concat(e._id),children:(0,s.jsx)("h2",{className:"m-2 p-3 font-bold text-blue-600 text-3xl",children:e.PortfolioName})},t),(0,s.jsxs)("div",{className:"m-2 px-4 pb-4",children:[(0,s.jsx)("p",{children:(0,s.jsx)("span",{className:"text-black font-medium text-lg tracking-tight ",children:"Explore Edward Babcock's board 'Tri color combinations' on Pinterest. See more ideas about color, color combinations, color inspiration."})}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-center my-2 mt-4",children:[(0,s.jsxs)("span",{className:"text-sm font-bold m-2 px-2 py-2 rounded bg-orange-700 text-white",children:["Previous:",e.PortfolioPrice&&e.PortfolioPrice[0].Price]}),(0,s.jsxs)("span",{className:"text-sm font-bold m-2 px-2 py-2 rounded bg-green-700 text-white",children:["Current:",e.PortfolioPrice&&e.PortfolioPrice[0].Price]}),(0,s.jsxs)("span",{className:"text-sm font-bold m-2 px-2 py-2 rounded bg-pink-700 text-white",children:["Remaining:",Math.round(e.RemainingPrice)]})]}),(0,s.jsx)("div",{className:"flex items-center justify-center my-2 mt-4",children:(0,s.jsx)(r(),{onClick:()=>{i.Z.set("price","".concat(e.Price))},href:"Portfolio/assests/buyassest?pid=".concat(e._id),children:(0,s.jsx)("p",{className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center ",children:"Buy"})})})]})]})},t)})]})]})};function Main(){let e=(0,c.useRouter)();return(0,n.useEffect)(()=>{}),(0,n.useEffect)(()=>{localStorage.getItem("token")||e.push("/login")},[]),(0,s.jsx)(components_Home,{})}}},function(e){e.O(0,[724,917,971,864,744],function(){return e(e.s=2128)}),_N_E=e.O()}]);